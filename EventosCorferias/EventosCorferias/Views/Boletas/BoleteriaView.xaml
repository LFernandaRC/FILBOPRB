<?xml version="1.0" encoding="utf-8" ?>
<ContentPage xmlns="http://schemas.microsoft.com/dotnet/2021/maui"
             xmlns:x="http://schemas.microsoft.com/winfx/2009/xaml"
             xmlns:zxing="clr-namespace:ZXing.Net.Maui.Controls;assembly=ZXing.Net.Maui.Controls"
             x:Class="EventosCorferias.Views.Boletas.BoleteriaView"
             xmlns:resources="clr-namespace:EventosCorferias.Resources.RecursosIdioma"
             Title="BoleteriaView"
             BackgroundColor="White">
    <NavigationPage.TitleView>
        <StackLayout Orientation="Horizontal"
                     Spacing="0"
                     VerticalOptions="Center"
                     BackgroundColor="Transparent">
            <Image Grid.Column="0"
                   Source="menu.png"
                   WidthRequest="30"
                   Margin="0,0,20,0"
                   VerticalOptions="Center"
                   BackgroundColor="Transparent"
                   IsVisible="{OnPlatform iOS=false, Android=false, WinUI=false}">
                <Image.GestureRecognizers>
                    <TapGestureRecognizer Command="{Binding AbrirMenu}"/>
                </Image.GestureRecognizers>
            </Image>
            <Image Grid.Column="0"
                   Source="{Binding ImagenSplash}"
                   WidthRequest="30"
                   VerticalOptions="Center"
                   BackgroundColor="Transparent"/>
            <StackLayout Spacing="0"
                         VerticalOptions="Center"
                         Margin="10,0,0,0">
                <Label Grid.Column="2"
                       Grid.Row="0"
                       FontSize="9"
                       VerticalOptions="Center"
                       VerticalTextAlignment="Center"
                       Text="{x:Static resources:AppResources.Hola}"
                       TextColor="{StaticResource ColorTextoMenSup}"
                       FontFamily="NotoRegular"/>
                <Label Grid.Column="2"
                       Grid.Row="1"
                       FontSize="13"
                       VerticalOptions="Center"
                       VerticalTextAlignment="Center"
                       Text="{Binding NombreCompletoPerfil}"
                       MaxLines="1"
                       TextColor="{StaticResource ColorTextoMenSup}"
                       FontFamily="NotoBold"/>
            </StackLayout>
        </StackLayout>
    </NavigationPage.TitleView>
    <ContentPage.Content>
        <Grid BackgroundColor="White"
              RowSpacing="0">
            <Grid.RowDefinitions>
                <RowDefinition Height="*"/>
            </Grid.RowDefinitions>
            <!--INICIA LISTA COMPRAR-->
            <CollectionView x:Name="ListaComprar"
                            Margin="10,10,10,50"
                            VerticalOptions="Fill"
                            IsVisible="{Binding VerBtnComprar}"
                            SelectionMode="None"
                            ItemsSource="{Binding ListaComprar}"
                            BackgroundColor="White">
                <CollectionView.ItemsLayout>
                    <GridItemsLayout Orientation="Vertical"
                                     Span="1"
                                     VerticalItemSpacing="10"
                                     HorizontalItemSpacing="10"/>
                </CollectionView.ItemsLayout>
                <CollectionView.Header>
                    <!--INICIA BOTONES-->
                    <Grid Padding="0,0,0,10"
                          BackgroundColor="Transparent"
                          RowSpacing="5"
                          ColumnSpacing="10">
                        <Grid.RowDefinitions>
                            <RowDefinition Height="45"/>
                            <RowDefinition Height="45"/>
                        </Grid.RowDefinitions>
                        <Grid.ColumnDefinitions>
                            <ColumnDefinition Width="*"/>
                            <ColumnDefinition Width="*"/>
                        </Grid.ColumnDefinitions>
                        <Button Grid.Column="0"
                                Grid.Row="0"
                                Text="{x:Static resources:AppResources.misinvitaciones}"
                                HeightRequest="40"
                                FontSize="11"
                                TextColor="{Binding ColorTextoPreregistro}"
                                BackgroundColor="{Binding ColorFondoPreregistro}"
                                Command="{Binding BtnPreRegistro}"
                                CornerRadius="20"/>
                        <Button Grid.Column="0"
                                Grid.Row="1"
                                Text="{x:Static resources:AppResources.comprar}"
                                HeightRequest="40"
                                FontSize="11"
                                TextColor="{Binding ColorTextoCompra}"
                                BackgroundColor="{Binding ColorFondoCompra}"
                                Command="{Binding BtnComprar}"
                                CornerRadius="20"/>
                        <Button Grid.Column="1"
                                Grid.Row="0"
                                Text="{x:Static resources:AppResources.misBoletas}"
                                HeightRequest="40"
                                FontSize="11"
                                TextColor="{Binding ColorTextoBoletas}"
                                BackgroundColor="{Binding ColorFondoBoletas}"
                                Command="{Binding BtnMisBoletas}"
                                CornerRadius="20"/>
                    </Grid>

                </CollectionView.Header>
                <CollectionView.ItemTemplate>
                    <DataTemplate>
                        <Frame Margin="0"
                               Padding="1"
                               BackgroundColor="{StaticResource FondoTarjeta}"
                               BorderColor="{StaticResource BordeTarjeta}"
                               Style="{StaticResource FRegistroGeneral}"
                               IsClippedToBounds="True">
                            <Frame.GestureRecognizers>
                                <TapGestureRecognizer Command="{Binding BindingContext.ItemSelectedCommandModulos,Source={x:Reference ListaComprar}}"
                                                      CommandParameter="{Binding .}"/>
                            </Frame.GestureRecognizers>
                            <Grid BackgroundColor="Transparent"
                                  Margin="0,5,0,0"
                                  Padding="0"
                                  IsClippedToBounds="True">
                                <Grid.ColumnDefinitions>
                                    <ColumnDefinition Width="0.7*"/>
                                    <ColumnDefinition Width="*"/>
                                </Grid.ColumnDefinitions>
                                <Grid.RowDefinitions>
                                    <RowDefinition Height="150"/>
                                </Grid.RowDefinitions>
                                <Frame Grid.Column="0"
                                       Margin="1"
                                       Padding="1"
                                       BackgroundColor="{StaticResource FondoImagen}"
                                       VerticalOptions="Fill"
                                       IsClippedToBounds="True"
                                       Style="{StaticResource FRegistroGeneral}">
                                    <Image Source="{Binding imagen}"
                                           Aspect="AspectFit"
                                           BackgroundColor="Transparent"
                                           VerticalOptions="Fill"/>
                                </Frame>
                                <StackLayout Grid.Column="1"
                                             Spacing="2"
                                             BackgroundColor="Transparent"
                                             Padding="10,5,10,5">
                                    <Label FontSize="15"
                                           FontFamily="NotoBold"
                                           VerticalOptions="Start"
                                           Margin="0"
                                           TextColor="{StaticResource TextoTarjetas}"
                                           Text="{Binding NombreSuceso}"
                                           MaxLines="4"
                                           TextTransform="Uppercase"/>
                                    <Grid VerticalOptions="Center">
                                        <Grid.ColumnDefinitions>
                                            <ColumnDefinition Width="*"/>
                                            <ColumnDefinition Width="Auto"/>
                                        </Grid.ColumnDefinitions>
                                        <Label Grid.Column="0"
                                               FontSize="11"
                                               TextColor="{StaticResource TextoTarjetas}"
                                               VerticalOptions="End"
                                               HorizontalOptions="Start"
                                               Margin="0,0,5,0"
                                               MaxLines="3"
                                               FontFamily="NotoRegular">
                                            <Label.FormattedText>
                                                <FormattedString>
                                                    <Span LineHeight="0.8"
                                                          Text="{x:Static resources:AppResources.del}"/>
                                                    <Span LineHeight="0.8"
                                                          Text=" "/>
                                                    <Span LineHeight="0.8"
                                                          Text="{Binding DiaIn}"/>
                                                    <Span LineHeight="0.8"
                                                          Text=" "/>
                                                    <Span LineHeight="0.8"
                                                          Text="{x:Static resources:AppResources.de}"/>
                                                    <Span LineHeight="0.8"
                                                          Text=" "/>
                                                    <Span LineHeight="0.8"
                                                          Text="{Binding DesMesInicio}"/>
                                                    <Span LineHeight="0.8"
                                                          Text=" "/>
                                                    <Span LineHeight="0.8"
                                                          Text="{x:Static resources:AppResources.al}"/>
                                                    <Span LineHeight="0.8"
                                                          Text=" "/>
                                                    <Span LineHeight="0.8"
                                                          Text="{Binding DiaFin}"/>
                                                    <Span LineHeight="0.8"
                                                          Text=" "/>
                                                    <Span LineHeight="0.8"
                                                          Text="{x:Static resources:AppResources.de}"/>
                                                    <Span LineHeight="0.8"
                                                          Text=" "/>
                                                    <Span LineHeight="0.8"
                                                          Text="{Binding DesMesFin}"/>
                                                </FormattedString>
                                            </Label.FormattedText>
                                        </Label>
                                        <Frame Grid.Column="1"
                                               IsClippedToBounds="True"
                                               Padding="4"
                                               Margin="0,10,0,0"
                                               Style="{StaticResource FRegistroGeneral}"
                                               HeightRequest="38"
                                               WidthRequest="38"
                                               BorderColor="{StaticResource BtnBoderIconoObscuro}"
                                               BackgroundColor="{StaticResource BtnFondoIconoObscuro}">
                                            <Image Source="ic_boleteria_blanco.png"
                                                   BackgroundColor="Transparent"/>
                                        </Frame>
                                    </Grid>
                                </StackLayout>
                            </Grid>
                        </Frame>
                    </DataTemplate>
                </CollectionView.ItemTemplate>
                <CollectionView.Footer>
                    <StackLayout HeightRequest="50"/>
                </CollectionView.Footer>
            </CollectionView>

            <!--INICIA LISTA MIS BOLETAS-->
            <CollectionView IsVisible="{Binding VerListaMisBoletas}"
                            Margin="10,10,10,50"
                            ItemsSource="{Binding ListaMisBoletas}"
                            SelectionMode="None"
                            BackgroundColor="White"
                            VerticalOptions="Fill">
                <CollectionView.ItemsLayout>
                    <GridItemsLayout Orientation="Vertical"
                                     Span="1"
                                     VerticalItemSpacing="10"
                                     HorizontalItemSpacing="10"/>
                </CollectionView.ItemsLayout>
                <CollectionView.Header>
                    <!--INICIA BOTONES-->
                    <Grid Padding="0,0,0,10"
                          BackgroundColor="Transparent"
                          RowSpacing="5"
                          ColumnSpacing="10">
                        <Grid.RowDefinitions>
                            <RowDefinition Height="45"/>
                            <RowDefinition Height="45"/>
                        </Grid.RowDefinitions>
                        <Grid.ColumnDefinitions>
                            <ColumnDefinition Width="*"/>
                            <ColumnDefinition Width="*"/>
                        </Grid.ColumnDefinitions>
                        <Button Grid.Column="0"
                                Grid.Row="0"
                                Text="{x:Static resources:AppResources.misinvitaciones}"
                                HeightRequest="40"
                                FontSize="11"
                                TextColor="{Binding ColorTextoPreregistro}"
                                BackgroundColor="{Binding ColorFondoPreregistro}"
                                Command="{Binding BtnPreRegistro}"
                                CornerRadius="20"/>
                        <Button Grid.Column="0"
                                Grid.Row="1"
                                Text="{x:Static resources:AppResources.comprar}"
                                HeightRequest="40"
                                FontSize="11"
                                TextColor="{Binding ColorTextoCompra}"
                                BackgroundColor="{Binding ColorFondoCompra}"
                                Command="{Binding BtnComprar}"
                                CornerRadius="20"/>
                        <Button Grid.Column="1"
                                Grid.Row="0"
                                Text="{x:Static resources:AppResources.misBoletas}"
                                HeightRequest="40"
                                FontSize="11"
                                TextColor="{Binding ColorTextoBoletas}"
                                BackgroundColor="{Binding ColorFondoBoletas}"
                                Command="{Binding BtnMisBoletas}"
                                CornerRadius="20"/>
                    </Grid>
                </CollectionView.Header>
                <CollectionView.ItemTemplate>
                    <DataTemplate>
                        <Frame Margin="0"
                               Padding="1"
                               Style="{StaticResource FRegistroGeneral}"
                               BackgroundColor="{StaticResource FondoTarjeta}"
                               BorderColor="{StaticResource BordeTarjeta}">
                            <Grid BackgroundColor="Transparent"
                                  Margin="0"
                                  Padding="0">
                                <Grid.ColumnDefinitions>
                                    <ColumnDefinition Width="0.7*"/>
                                    <ColumnDefinition Width="*"/>
                                </Grid.ColumnDefinitions>
                                <Grid.RowDefinitions>
                                    <RowDefinition Height="220"/>
                                </Grid.RowDefinitions>

                                <Frame Grid.Column="0"
                                       Margin="0"
                                       Padding="1"
                                       BackgroundColor="Transparent"
                                       IsVisible="{Binding VerImagenFeria}"
                                       Style="{StaticResource FRegistroGeneral}">
                                    <Image Source="{Binding ImagenFeria}"
                                           HorizontalOptions="Fill"
                                           VerticalOptions="Fill"/>
                                </Frame>

                                <Frame Grid.Column="0"
                                       Margin="0"
                                       Padding="1"
                                       CornerRadius="10"
                                       HasShadow="False"
                                       BackgroundColor="Transparent"
                                       VerticalOptions="Fill"
                                       IsVisible="{Binding VerCodigoQR}">
                                    <Frame.GestureRecognizers>
                                        <TapGestureRecognizer Command="{Binding Path=BindingContext.SeleccionarModuloCommand, Source={RelativeSource AncestorType={x:Type CollectionView}}}"
                                                              CommandParameter="{Binding .}"/>
                                    </Frame.GestureRecognizers>
                                    <Image Source="{Binding QrImage}"
                                           Aspect="AspectFit"
                                           IsVisible="{Binding VerCodigoQR}"/>
                                </Frame>
                                <StackLayout Grid.Column="1"
                                             Spacing="2"
                                             BackgroundColor="Transparent"
                                             Padding="0,5,10,5">
                                    <Label FontSize="15"
                                           FontFamily="NotoBold"
                                           VerticalOptions="Start"
                                           Margin="0,5,0,0"
                                           TextColor="{StaticResource TextoTarjetas}"
                                           Text="{Binding NombreSuceso}"
                                           MaxLines="4"
                                           TextTransform="Uppercase"/>
                                    <Grid Margin="0,2,0,0"
                                          ColumnSpacing="0">
                                        <Grid.ColumnDefinitions>
                                            <ColumnDefinition Width="30"/>
                                            <ColumnDefinition Width="*"/>
                                        </Grid.ColumnDefinitions>
                                        <Image Source="ic_calendario_obscuro.png"
                                               Margin="3"
                                               VerticalOptions="Center"
                                               Grid.Column="0"
                                               HorizontalOptions="Start"
                                               BackgroundColor="Transparent"/>
                                        <Label FontSize="11"
                                               Margin="0"
                                               Padding="0"
                                               TextColor="{StaticResource TextoTarjetas}"
                                               VerticalOptions="Center"
                                               HorizontalOptions="Start"
                                               Grid.Column="1"
                                               MaxLines="3"
                                               FontFamily="NotoRegular"
                                               Text="{Binding FechaIngreso}"/>
                                    </Grid>

                                    <Label VerticalOptions="Start"
                                           HorizontalOptions="Start"
                                           Margin="0,5,0,0"
                                           Grid.Column="1"
                                           MaxLines="3"
                                           FontSize="12"
                                           FontFamily="NotoRegular"
                                           TextColor="{StaticResource TextoTarjetas}">
                                        <Label.FormattedText>
                                            <FormattedString>
                                                <Span LineHeight="1"
                                                      Text="{Binding TitularFacturacion}"
                                                      FontFamily="NotoBold"
                                                      FontSize="12"/>
                                            </FormattedString>
                                        </Label.FormattedText>
                                    </Label>

                                    <Label VerticalOptions="Start"
                                           HorizontalOptions="Start"
                                           Margin="0"
                                           Grid.Column="1"
                                           MaxLines="3"
                                           FontSize="12"
                                           FontFamily="NotoRegular"
                                           TextColor="{StaticResource TextoTarjetas}">
                                        <Label.FormattedText>
                                            <FormattedString>
                                                <Span LineHeight="1"
                                                      Text="{Binding NombreIdentificacion}"
                                                      FontFamily="NotoBold"
                                                      FontSize="12"/>
                                                <Span LineHeight="1"
                                                      Text=": "
                                                      FontFamily="NotoBold"
                                                      FontSize="12"/>
                                                <Span LineHeight="1"
                                                      Text="{Binding Identificacion}"
                                                      FontSize="12"
                                                      FontFamily="NotoRegular"/>
                                            </FormattedString>
                                        </Label.FormattedText>
                                    </Label>

                                    <Label TextColor="{StaticResource TextoTarjetas}"
                                           VerticalOptions="Start"
                                           HorizontalOptions="Start"
                                           Margin="0"
                                           Grid.Column="1"
                                           MaxLines="3"
                                           FontSize="12"
                                           FontFamily="NotoRegular">
                                        <Label.FormattedText>
                                            <FormattedString>
                                                <Span LineHeight="1"
                                                      Text="{x:Static resources:AppResources.estadoDosPuntos}"
                                                      FontFamily="NotoBold"
                                                      FontSize="12"/>
                                                <Span LineHeight="1"
                                                      Text="{Binding DescripcionEstado}"
                                                      FontSize="12"
                                                      FontFamily="NotoRegular"/>
                                            </FormattedString>
                                        </Label.FormattedText>
                                    </Label>

                                    <Label TextColor="{StaticResource TextoTarjetas}"
                                           VerticalOptions="Start"
                                           HorizontalOptions="Start"
                                           Margin="0"
                                           Grid.Column="1"
                                           MaxLines="3"
                                           FontSize="12"
                                           FontFamily="NotoRegular">
                                        <Label.FormattedText>
                                            <FormattedString>
                                                <Span LineHeight="1"
                                                      Text="{x:Static resources:AppResources.categoria}"
                                                      FontFamily="NotoBold"
                                                      FontSize="12"/>
                                                <Span LineHeight="1"
                                                      Text=": "
                                                      FontFamily="NotoBold"
                                                      FontSize="12"/>
                                                <Span LineHeight="1"
                                                      Text="{Binding NombreCategoria}"
                                                      FontSize="12"
                                                      FontFamily="NotoRegular"/>
                                            </FormattedString>
                                        </Label.FormattedText>
                                    </Label>
                                    <Label Text=" "/>
                                </StackLayout>
                            </Grid>
                        </Frame>
                    </DataTemplate>
                </CollectionView.ItemTemplate>
                <CollectionView.Footer>
                    <StackLayout HeightRequest="50"/>
                </CollectionView.Footer>
            </CollectionView>

            <!--INICIA LISTA PRE-REGISTRO-->
            <CollectionView     Margin="10,10,10,50"
                                x:Name="producttablelist"
                                ItemsSource="{Binding ListaPreRegistro}"
                                IsVisible="{Binding VerListaPreRegistro}"
                                SelectionMode="Single"
                                BackgroundColor="White"
                                VerticalOptions="Fill">
                <CollectionView.ItemsLayout>
                    <GridItemsLayout Orientation="Vertical"
                                     Span="1"
                                     VerticalItemSpacing="10"
                                     HorizontalItemSpacing="10"/>
                </CollectionView.ItemsLayout>
                <CollectionView.Header>
                    <!--INICIA BOTONES-->
                    <Grid Padding="10,10,10,10"
                          BackgroundColor="Transparent"
                          RowSpacing="5"
                          ColumnSpacing="10">
                        <Grid.RowDefinitions>
                            <RowDefinition Height="45"/>
                            <RowDefinition Height="45"/>
                        </Grid.RowDefinitions>
                        <Grid.ColumnDefinitions>
                            <ColumnDefinition Width="*"/>
                            <ColumnDefinition Width="*"/>
                        </Grid.ColumnDefinitions>
                        <Button Grid.Column="0"
                                Grid.Row="0"
                                Text="{x:Static resources:AppResources.misinvitaciones}"
                                HeightRequest="40"
                                FontSize="11"
                                TextColor="{Binding ColorTextoPreregistro}"
                                BackgroundColor="{Binding ColorFondoPreregistro}"
                                Command="{Binding BtnPreRegistro}"
                                CornerRadius="20"/>
                        <Button Grid.Column="0"
                                Grid.Row="1"
                                Text="{x:Static resources:AppResources.comprar}"
                                HeightRequest="40"
                                FontSize="11"
                                TextColor="{Binding ColorTextoCompra}"
                                BackgroundColor="{Binding ColorFondoCompra}"
                                Command="{Binding BtnComprar}"
                                CornerRadius="20"/>
                        <Button Grid.Column="1"
                                Grid.Row="0"
                                Text="{x:Static resources:AppResources.misBoletas}"
                                HeightRequest="40"
                                FontSize="11"
                                TextColor="{Binding ColorTextoBoletas}"
                                BackgroundColor="{Binding ColorFondoBoletas}"
                                Command="{Binding BtnMisBoletas}"
                                CornerRadius="20"/>
                    </Grid>
                </CollectionView.Header>
                <CollectionView.Footer>
                    <StackLayout HeightRequest="50"/>
                </CollectionView.Footer>
                <CollectionView.ItemTemplate>
                    <DataTemplate>
                        <Frame Margin="0"
                               Padding="1"
                               Style="{StaticResource FRegistroGeneral}"
                               BackgroundColor="{StaticResource FondoTarjeta}"
                               BorderColor="{StaticResource BordeTarjeta}">
                            <Grid BackgroundColor="Transparent"
                                  Margin="0"
                                  Padding="0">
                                <Grid.ColumnDefinitions>
                                    <ColumnDefinition Width="0.7*"/>
                                    <ColumnDefinition Width="*"/>
                                </Grid.ColumnDefinitions>
                                <Grid.RowDefinitions>
                                    <RowDefinition Height="230"/>
                                </Grid.RowDefinitions>

                                <Frame Grid.Column="0"
                                       Margin="0"
                                       Padding="1"
                                       BackgroundColor="Transparent"
                                       IsVisible="{Binding VerImagenFeria}"
                                       Style="{StaticResource FRegistroGeneral}">
                                    <Image Source="{Binding ImagenFeria}"
                                           HorizontalOptions="Fill"
                                           VerticalOptions="Fill"/>
                                </Frame>

                                <Frame Grid.Column="0"
                                       Margin="0"
                                       Padding="1"
                                       CornerRadius="10"
                                       HasShadow="False"
                                       BackgroundColor="Transparent"
                                       VerticalOptions="Fill"
                                       IsVisible="{Binding VerCodigoQR}">
                                    <Frame.GestureRecognizers>
                                        <TapGestureRecognizer Command="{Binding Path=BindingContext.SeleccionarModuloCommandDos, Source={RelativeSource AncestorType={x:Type CollectionView}}}"
                                                              CommandParameter="{Binding .}"/>
                                    </Frame.GestureRecognizers>
                                    <Image Source="{Binding QrImage}"
                                           Aspect="AspectFit"/>
                                </Frame>


                                <Frame Grid.Column="0"
                                       Margin="0"
                                       Padding="1"
                                       VerticalOptions="Fill"
                                       IsVisible="{Binding VerCodigoQR}"
                                       Style="{StaticResource FRegistroGeneral}">
                                </Frame>
                                <StackLayout Grid.Column="1"
                                             Spacing="2">
                                    <Label FontSize="15"
                                           FontFamily="NotoBold"
                                           VerticalOptions="Start"
                                           Margin="0,10,5,0"
                                           TextColor="{StaticResource TextoTarjetas}"
                                           Text="{Binding NombreSuceso}"
                                           MaxLines="4"
                                           TextTransform="Uppercase"/>
                                    <Label TextColor="{StaticResource TextoTarjetas}"
                                           VerticalOptions="Start"
                                           HorizontalOptions="Start"
                                           Margin="0,0,5,0"
                                           Grid.Column="1"
                                           MaxLines="3"
                                           IsVisible="{Binding vigenciaVista}">
                                        <Label.FormattedText>
                                            <FormattedString>
                                                <Span LineHeight="1"
                                                      Text="{Binding DiaIn}"
                                                      FontSize="12"
                                                      FontFamily="NotoRegular"/>
                                                <Span LineHeight="1"
                                                      Text=" "/>
                                                <Span LineHeight="1"
                                                      Text="{x:Static resources:AppResources.de}"
                                                      FontSize="12"
                                                      FontFamily="NotoRegular"/>
                                                <Span LineHeight="1"
                                                      Text=" "/>
                                                <Span LineHeight="1"
                                                      Text="{Binding MesIn}"
                                                      FontSize="12"
                                                      FontFamily="NotoRegular"/>
                                            </FormattedString>
                                        </Label.FormattedText>
                                    </Label>

                                    <Label Text="{Binding NombreRecinto}"
                                           TextColor="{StaticResource TextoTarjetas}"
                                           FontSize="12"
                                           FontFamily="NotoRegular"/>

                                    <Label Text="{x:Static resources:AppResources.preRegistro}"
                                           TextColor="{StaticResource TextoTarjetas}"
                                           FontFamily="NotoBold"
                                           FontSize="12"/>

                                    <Label Text="{Binding NombreCompleto}"
                                           TextColor="{StaticResource TextoTarjetas}"
                                           FontFamily="NotoBold"
                                           FontSize="12"/>

                                    <Label TextColor="{StaticResource TextoTarjetas}"
                                           VerticalOptions="Start"
                                           HorizontalOptions="Start"
                                           Margin="0,0,5,0"
                                           Grid.Column="1"
                                           MaxLines="3"
                                           FontSize="12"
                                           FontFamily="NotoRegular">
                                        <Label.FormattedText>
                                            <FormattedString>
                                                <Span LineHeight="1"
                                                      Text="{Binding NombreIdentificacion}"
                                                      FontFamily="NotoBold"
                                                      FontSize="12"/>
                                                <Span LineHeight="1"
                                                      Text=": "
                                                      FontFamily="NotoBold"
                                                      FontSize="12"/>
                                                <Span LineHeight="1"
                                                      Text="{Binding Identificacion}"
                                                      FontSize="12"
                                                      FontFamily="NotoRegular"/>
                                            </FormattedString>
                                        </Label.FormattedText>
                                    </Label>

                                    <Label Text="{Binding NombreProfesion}"
                                           TextColor="{StaticResource TextoTarjetas}"
                                           FontSize="12"
                                           FontFamily="NotoRegular"/>

                                    <Label TextColor="{StaticResource TextoTarjetas}"
                                           VerticalOptions="Start"
                                           HorizontalOptions="Start"
                                           Margin="0,0,5,10"
                                           Grid.Column="1"
                                           MaxLines="3"
                                           FontSize="12"
                                           FontFamily="NotoRegular">
                                        <Label.FormattedText>
                                            <FormattedString>
                                                <Span LineHeight="1"
                                                      Text="{x:Static resources:AppResources.estadoDosPuntos}"
                                                      FontFamily="NotoBold"
                                                      FontSize="12"/>
                                                <Span LineHeight="1"
                                                      Text="{Binding EstadoSolicitud}"
                                                      FontSize="12"
                                                      FontFamily="NotoRegular"/>
                                            </FormattedString>
                                        </Label.FormattedText>
                                    </Label>

                                    <Label Text=" "/>
                                </StackLayout>
                            </Grid>
                        </Frame>
                    </DataTemplate>
                </CollectionView.ItemTemplate>
            </CollectionView>

            <!--INICIA MENU INFERIOR-->
            <Grid BackgroundColor="{StaticResource FondomMenuInfe}"
                  Margin="0,0,0,-60"
                  VerticalOptions="End"
                  HorizontalOptions="Fill"
                  HeightRequest="70">
            </Grid>
            <Grid Grid.Row="0"
                  BackgroundColor="{StaticResource FondomMenuInfe}"
                  VerticalOptions="End"
                  HorizontalOptions="Fill"
                  ColumnSpacing="5"
                  Padding="10">
                <Grid.ColumnDefinitions>
                    <ColumnDefinition Width="*"/>
                    <ColumnDefinition Width="*"/>
                    <ColumnDefinition Width="60"/>
                    <ColumnDefinition Width="*"/>
                    <ColumnDefinition Width="*"/>
                </Grid.ColumnDefinitions>
                <Frame Grid.Column="{Binding GridNotificaciones}"
            BackgroundColor="{StaticResource FondoNotificaMenuInfe}"
            Padding="1"
            CornerRadius="10"
            HasShadow="False"
            BorderColor="{StaticResource BorderNotificaMenuInfe}"
            IsVisible="{Binding VerNotificicaciones}"
            HorizontalOptions="Center"
            VerticalOptions="Start"
            Margin="30,0,0,0">
                    <Label Text="{Binding CantidadNotificaciones}"
                FontSize="11"
                FontFamily="NotoRegular"
                TextColor="{StaticResource TextNotificaMenuInfe}"
                WidthRequest="20"
                HeightRequest="20"
                VerticalOptions="Center"
                HorizontalOptions="Center"
                HorizontalTextAlignment="Center"
                VerticalTextAlignment="Center"/>
                </Frame>
                <Image x:Name="Menu1"
                       Grid.Column="0"
                       WidthRequest="25"
                       Source="{Binding Icon1}"
                       ClassId="{Binding Icon1Class}"
                       BackgroundColor="Transparent"
                       HorizontalOptions="Center"
                       IsVisible="{Binding Menu1}">
                    <Image.GestureRecognizers>
                        <TapGestureRecognizer Command="{Binding IrMenuInferior}"
                                              CommandParameter="{x:Reference Menu1}"/>
                    </Image.GestureRecognizers>
                </Image>
                <Image x:Name="Menu2"
                       Grid.Column="1"
                       WidthRequest="25"
                       Source="{Binding Icon2}"
                       ClassId="{Binding Icon2Class}"
                       BackgroundColor="Transparent"
                       HorizontalOptions="Center"
                       IsVisible="{Binding Menu2}">
                    <Image.GestureRecognizers>
                        <TapGestureRecognizer Command="{Binding IrMenuInferior}"
                                              CommandParameter="{x:Reference Menu2}"/>
                    </Image.GestureRecognizers>
                </Image>
                <BoxView Grid.Column="2"
                         VerticalOptions="Center"
                         HorizontalOptions="Center"
                         WidthRequest="1"
                         HeightRequest="25"
                         Color="Red"/>
                <Image x:Name="Menu3"
                       Grid.Column="3"
                       WidthRequest="25"
                       Source="{Binding Icon3}"
                       ClassId="{Binding Icon3Class}"
                       BackgroundColor="Transparent"
                       HorizontalOptions="Center"
                       IsVisible="{Binding Menu3}">
                    <Image.GestureRecognizers>
                        <TapGestureRecognizer Command="{Binding IrMenuInferior}"
                                              CommandParameter="{x:Reference Menu3}"/>
                    </Image.GestureRecognizers>
                </Image>
                <Image x:Name="Menu4"
                       Grid.Column="4"
                       WidthRequest="25"
                       Source="{Binding Icon4}"
                       ClassId="{Binding Icon4Class}"
                       BackgroundColor="Transparent"
                       HorizontalOptions="Center"
                       IsVisible="{Binding Menu4}">
                    <Image.GestureRecognizers>
                        <TapGestureRecognizer Command="{Binding IrMenuInferior}"
                                              CommandParameter="{x:Reference Menu4}"/>
                    </Image.GestureRecognizers>
                </Image>
            </Grid>
            <Frame Grid.Row="0"
                   VerticalOptions="End"
                   HorizontalOptions="Center"
                   Margin="0,0,0,0"
                   Padding="0"
                   HasShadow="False"
                   BorderColor="{StaticResource BordeIconoPrin}"
                   BackgroundColor="{StaticResource FondoIconoPrin}"
                   CornerRadius="27"
                   WidthRequest="58"
                   HeightRequest="58">
                <Image Source="{Binding ImagenSplash}"
                       HeightRequest="40"
                       WidthRequest="40"
                       Aspect="AspectFill"
                       Margin="8">
                    <Image.GestureRecognizers>
                        <TapGestureRecognizer Command="{Binding IrHome}"/>
                    </Image.GestureRecognizers>
                </Image>
            </Frame>
            <Grid BackgroundColor="{StaticResource FondoLoder}"
                  VerticalOptions="Fill"
                  HorizontalOptions="Fill"
                  Margin="-20,-60"
                  IsVisible="{Binding IsBusy}">
                <ActivityIndicator IsRunning="true"
                                   Color="{StaticResource IconoLoder}"
                                   Margin="20"
                                   HorizontalOptions="Center"
                                   VerticalOptions="Center"/>
            </Grid>
        </Grid>
    </ContentPage.Content>
</ContentPage>